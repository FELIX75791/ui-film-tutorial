<!-- templates/quiz.html -->
{% extends "base.html" %}
{% set page = "quiz" %}

{% block title %}Quiz - Cinematography Tutorial{% endblock %}

{% block head_extra %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
<script src="{{ url_for('static', path='js/quiz.js') }}" defer></script>
<style>
  /* Additional inline styles for better visibility */
  .tech-item.selected {
    box-shadow: 0 0 0 3px #6c5ce7;
    position: relative;
    z-index: 10;
  }
  
  .btn-primary {
    background-color: #6c5ce7;
    color: white;
  }
  
  .hidden {
    display: none !important;
  }
  
  /* Fix for quiz elements */
  #options-container {
    margin: 20px 0;
  }
  
  .checkbox-option, .radio-option {
    display: block;
    margin: 10px 0;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 5px;
    cursor: pointer;
  }
  
  .checkbox-option:hover, .radio-option:hover {
    background-color: #e9ecef;
  }
</style>
{% endblock %}

{% block content %}
<div class="quiz-container">
  <!-- Quiz Intro -->
  <div id="quiz-intro">
    <div class="quiz-header">
      <h1>Cinematography Techniques Quiz</h1>
      <p>Test your understanding of essential cinematography techniques with this interactive quiz!</p>
      <p>You'll identify techniques, match them to emotional effects, and analyze how they're used in films.</p>
    </div>
    <div class="quiz-buttons">
      <button id="review-btn" class="btn btn-secondary">Review Material</button>
      <button id="begin-btn" class="btn btn-primary">Begin Quiz</button>
    </div>
  </div>

  <!-- Quiz Questions -->
  <div id="quiz-question" class="hidden">
    <div class="quiz-header">
      <h2 id="question-title"></h2>
      <p id="question-text"></p>
    </div>
    
    <div id="question-media" class="quiz-media"></div>
    
    <div id="options-container" class="quiz-options"></div>

    <div id="feedback" class="quiz-feedback hidden"></div>

    <div class="quiz-buttons">
      <button id="back-btn" class="btn btn-secondary">Back</button>
      <button id="submit-btn" class="btn btn-primary">Submit Answer</button>
      <button id="next-btn" class="btn btn-primary hidden">Next Question</button>
    </div>
  </div>

  <!-- Quiz Results -->
  <div id="quiz-results" class="hidden">
    <!-- This will be populated dynamically by the JavaScript -->
  </div>
</div>
{% endblock %}
